(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{723:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(3365);function s(e){let{variant:t="primary",children:a,className:s="",...r}=e,i=`px-4 py-2 rounded shadow transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ${({primary:"bg-uswift-accent text-white hover:brightness-90 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"})[t]} ${s}`.trim();return(0,l.jsx)("button",{className:i,...r,children:a})}},3800:(e,t,a)=>{Promise.resolve().then(a.bind(a,8754))},4165:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(3365);function s(e){return(0,l.jsx)("input",{className:"border border-uswift-blue rounded px-3 py-2 w-full mb-2",...e})}},8754:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(3365),s=a(1521),r=a(723);let i={applied:"bg-blue-100 text-blue-800",interview:"bg-yellow-100 text-yellow-800",offer:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",withdrawn:"bg-gray-100 text-gray-800"},n={applied:"Applied",interview:"Interview",offer:"Offer",rejected:"Rejected",withdrawn:"Withdrawn"};function o(e){let{job:t,onUpdate:a,onDelete:o}=e,[d,c]=(0,s.useState)(!1),[p,u]=(0,s.useState)({company_name:t.company_name,job_title:t.job_title,status:t.status,notes:t.notes||"",application_url:t.application_url||""});return(0,l.jsx)("div",{"data-animate":"reveal",className:"card bg-white text-black rounded-lg shadow p-6 mb-4 card-magic card-magic--glow transform-gpu hover:-translate-y-1 hover:shadow-lg transition",role:"article","aria-labelledby":`job-${t.id}-title`,children:(0,l.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,l.jsx)("div",{className:"flex-1",children:d?(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("label",{className:"sr-only",htmlFor:`company-${t.id}`,children:"Company Name"}),(0,l.jsx)("input",{id:`company-${t.id}`,type:"text",value:p.company_name,onChange:e=>u(t=>({...t,company_name:e.target.value})),className:"w-full p-2 border rounded",placeholder:"Company Name","aria-label":"Company name"}),(0,l.jsx)("label",{className:"sr-only",htmlFor:`title-${t.id}`,children:"Job Title"}),(0,l.jsx)("input",{id:`title-${t.id}`,type:"text",value:p.job_title,onChange:e=>u(t=>({...t,job_title:e.target.value})),className:"w-full p-2 border rounded",placeholder:"Job Title","aria-label":"Job title"}),(0,l.jsx)("label",{className:"sr-only",htmlFor:`notes-${t.id}`,children:"Notes"}),(0,l.jsx)("textarea",{id:`notes-${t.id}`,value:p.notes,onChange:e=>u(t=>({...t,notes:e.target.value})),className:"w-full p-2 border rounded",placeholder:"Notes",rows:3,"aria-label":"Notes"}),(0,l.jsx)("label",{className:"sr-only",htmlFor:`url-${t.id}`,children:"Application URL"}),(0,l.jsx)("input",{id:`url-${t.id}`,type:"url",value:p.application_url,onChange:e=>u(t=>({...t,application_url:e.target.value})),className:"w-full p-2 border rounded",placeholder:"Application URL","aria-label":"Application URL"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h4",{id:`job-${t.id}-title`,className:"font-bold text-xl text-gray-900",children:t.job_title}),(0,l.jsx)("p",{className:"text-gray-600 text-lg",children:t.company_name}),(0,l.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,l.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i[t.status]}`,children:n[t.status]}),(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:["Applied: ",new Date(t.applied_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}),t.notes&&(0,l.jsx)("p",{className:"text-gray-700 mt-2 text-sm",children:t.notes}),t.application_url&&(0,l.jsx)("a",{href:t.application_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm mt-1 inline-block",children:"View Application â†’"})]})}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 ml-4",children:[(0,l.jsx)("div",{className:"flex flex-wrap gap-1",role:"group","aria-label":"Quick status actions",children:Object.entries(n).map(e=>{let[s,r]=e;return(0,l.jsx)("button",{onClick:()=>{a(t.id,{status:s})},className:`px-2 py-1 text-xs rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 ${t.status===s?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,disabled:d,"aria-pressed":t.status===s,"aria-label":`Mark as ${r}`,title:r,children:r},s)})}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(r.A,{onClick:()=>{d?(a(t.id,p),c(!1)):c(!0)},className:"px-3 py-1 text-sm",variant:d?"primary":"secondary","aria-label":d?"Save job":"Edit job",children:d?"Save":"Edit"}),(0,l.jsx)(r.A,{onClick:()=>{window.confirm("Are you sure you want to delete this application?")&&o(t.id)},className:"px-3 py-1 text-sm",variant:"danger","aria-label":"Delete job",children:"Delete"})]})]})]})})}var d=a(4165);function c(e){let{onSubmit:t,onCancel:a,isLoading:i=!1}=e,[n,o]=(0,s.useState)({company_name:"",job_title:"",status:"applied",notes:"",application_url:"",applied_date:new Date().toISOString().split("T")[0]}),c=(e,t)=>{o(a=>({...a,[e]:t}))};return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-6 text-gray-900",children:"Add New Job Application"}),(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!n.company_name.trim()||!n.job_title.trim())return void alert("Please fill in company name and job title");t(n)},className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),(0,l.jsx)(d.A,{type:"text",value:n.company_name,onChange:e=>c("company_name",e.target.value),placeholder:"e.g. Google, Microsoft, Amazon",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Title *"}),(0,l.jsx)(d.A,{type:"text",value:n.job_title,onChange:e=>c("job_title",e.target.value),placeholder:"e.g. Software Engineer, Product Manager",required:!0})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Application Status"}),(0,l.jsxs)("select",{value:n.status,onChange:e=>c("status",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"applied",children:"Applied"}),(0,l.jsx)("option",{value:"interview",children:"Interview"}),(0,l.jsx)("option",{value:"offer",children:"Offer"}),(0,l.jsx)("option",{value:"rejected",children:"Rejected"}),(0,l.jsx)("option",{value:"withdrawn",children:"Withdrawn"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Application Date"}),(0,l.jsx)(d.A,{type:"date",value:n.applied_date,onChange:e=>c("applied_date",e.target.value)})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Application URL"}),(0,l.jsx)(d.A,{type:"url",value:n.application_url,onChange:e=>c("application_url",e.target.value),placeholder:"https://company.com/careers/job/123"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,l.jsx)("textarea",{value:n.notes,onChange:e=>c("notes",e.target.value),placeholder:"Add any additional notes about this application...",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",rows:3})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,l.jsx)(r.A,{type:"button",onClick:a,variant:"secondary",disabled:i,children:"Cancel"}),(0,l.jsx)(r.A,{type:"submit",disabled:i,children:i?"Adding...":"Add Application"})]})]})]})}function p(e){let{children:t,isOpen:a,onClose:s,title:r}=e;return a?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto card-magic card-magic--glow",children:(0,l.jsxs)("div",{className:"p-6",children:[r&&(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4 pb-4 border-b",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:r}),(0,l.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsx)("div",{children:t})]})})}):null}function u(){let[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0),[n,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!1),[x,h]=(0,s.useState)(!1),[b,g]=(0,s.useState)("all"),[j,f]=(0,s.useState)("");(0,s.useEffect)(()=>{y()},[]);let y=async()=>{try{i(!0),d(null);let e=await fetch("/api/jobs");if(!e.ok)throw Error("Failed to fetch jobs");let a=await e.json();t(a)}catch(e){d(e instanceof Error?e.message:"Failed to load jobs")}finally{i(!1)}},v=async e=>{try{h(!0),d(null);let a=await fetch("/api/jobs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error("Failed to add job application");let l=await a.json();t(e=>[l,...e]),m(!1)}catch(e){d(e instanceof Error?e.message:"Failed to add job")}finally{h(!1)}},w=async(e,a)=>{try{let l=await fetch(`/api/jobs/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok)throw Error("Failed to update job");let s=await l.json();t(t=>t.map(t=>t.id===e?s:t))}catch(e){d(e instanceof Error?e.message:"Failed to update job")}},N=async e=>{try{if(!(await fetch(`/api/jobs/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete job");t(t=>t.filter(t=>t.id!==e))}catch(e){d(e instanceof Error?e.message:"Failed to delete job")}},_=e.filter(e=>{let t="all"===b||e.status===b,a=""===j||e.company_name.toLowerCase().includes(j.toLowerCase())||e.job_title.toLowerCase().includes(j.toLowerCase());return t&&a}),A={all:e.length,applied:e.filter(e=>"applied"===e.status).length,interview:e.filter(e=>"interview"===e.status).length,offer:e.filter(e=>"offer"===e.status).length,rejected:e.filter(e=>"rejected"===e.status).length,withdrawn:e.filter(e=>"withdrawn"===e.status).length};return a?(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Job Applications"}),(0,l.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,l.jsxs)("div",{className:"bg-gray-200 animate-pulse rounded-lg p-6",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-300 rounded mb-2"}),(0,l.jsx)("div",{className:"h-6 bg-gray-300 rounded mb-2"}),(0,l.jsx)("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]},e))})]}):(0,l.jsxs)("section",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",children:"Job Applications"}),(0,l.jsx)(r.A,{onClick:()=>m(!0),children:"Add New Application"})]}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)("input",{type:"text",placeholder:"Search by company or job title...",value:j,onChange:e=>f(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),(0,l.jsx)("div",{className:"flex gap-2",children:Object.entries({all:"All",applied:"Applied",interview:"Interview",offer:"Offer",rejected:"Rejected",withdrawn:"Withdrawn"}).map(e=>{let[t,a]=e;return(0,l.jsxs)("button",{onClick:()=>g(t),className:`px-3 py-1 rounded text-sm transition-colors ${b===t?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a," (",A[t],")"]},t)})})]})}),n&&(0,l.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[(0,l.jsx)("p",{className:"text-red-800",children:n}),(0,l.jsx)("button",{onClick:()=>d(null),className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Dismiss"})]}),(0,l.jsx)("div",{className:"space-y-4",children:0===_.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"text-gray-400 mb-4",children:(0,l.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===e.length?"No job applications yet":"No applications match your filters"}),(0,l.jsx)("p",{className:"text-gray-500 mb-4",children:0===e.length?"Start by adding your first job application":"Try adjusting your search or filter criteria"}),0===e.length&&(0,l.jsx)(r.A,{onClick:()=>m(!0),children:"Add Your First Application"})]}):_.map(e=>(0,l.jsx)(o,{job:e,onUpdate:w,onDelete:N},e.id))}),(0,l.jsx)(p,{isOpen:u,onClose:()=>m(!1),title:"",children:(0,l.jsx)(c,{onSubmit:v,onCancel:()=>m(!1),isLoading:x})})]})}}},e=>{e.O(0,[347,131,358],()=>e(e.s=3800)),_N_E=e.O()}]);